<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="applicable-device" content="pc">
  <meta name="renderer" content="webkit">
  <meta name="keywords" content="">
  <meta name="description" content="">
  <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" name="viewport" />
  <link rel="stylesheet" type="text/css" href="css/index.css">
  <title>注册账号</title>
  <script type="text/javascript">
      (function (n, e) {
          var t = n.documentElement, i = "orientationchange" in window ? "orientationchange" : "resize", d = function () {
              var n = t.clientWidth;
              n && (t.style.fontSize = n / 7.5 + "px")
          };
          n.addEventListener && (e.addEventListener(i, d, !1), n.addEventListener("DOMContentLoaded", d, !1))
      })(document, window);
  </script>
</head>

<body class="reg-box">
  <div class="resgister-header">
    <a class="resgister-header_container" href="home.html">
      <img src="images/acelogo.png">
      <img style="margin: 0 35px 0 43px" src="images/logo.png">
      <img src="images/center.png">
    </a>
  </div>

  <div class="resgister-main">
    <div class="resgister clearfix">
      <div class="resgister-left">
        <h1>一个账号，尽情玩转王者游戏！</h1>
        <div class="resgister-scan">
          <img src="images/registerwzzx_app.jpg">
          <img src="images/registerwzzx_gzh.jpg">
        </div>
        <div class="resgister-tip clearfix">
          <div class="resgister-tip_item">
            <img src="images/register_sys.png">
            <span>请扫描二维码<br>下载王者中心APP</span>
          </div>
          <div class="resgister-tip_item">
            <img src="images/register_sys.png">
            <span>请扫描二维码<br>了解更多王者资讯</span>
          </div>
        </div>
      </div>
      <div class="resgister-right">
        <img class="reg_closed" onclick="goback()" src="./images/cancel_icon1.png" alt="icon">
        <h3>账号注册</h3>
        <!-- pc语言切换开始 -->
        <div class="form-item lan-item">
          <div class="lan-sub" onclick="lanTog(this)">
            <a href="javscript:void(0)">
                <img class="img" src="images/lan/China_gq.jpg">
                <span>China （中国）</span>
            </a>
            <img class="icon" src="images/lan/drop-downicon.png" data-src="images/lan/drop-downicon_hover.png">
          </div>
          <div class="lan-list" onmouseleave="lanHide(this)">
              <a class="item" href="javscript:void(0)" data-tga="0" title="China （中国）">
                  <img src="images/lan/China_gq.jpg">
                  <span>China （中国）</span>
              </a>
              <a class="item" href="javscript:void(0)" title="UnitedStates" data-tag="1">
                  <img src="images/lan/UnitedStates_gq.jpg">
                  <span>United States</span>
              </a>
              <a class="item" href="javscript:void(0)" data-tag="0" title="Singapore">
                  <img src="images/lan/Singapore_gq.jpg">
                  <span>Singapore</span>
              </a>
              <a class="item" href="javascript:alert('正在建设中，敬请期待!');" title="Malaysia">
                <img src="images/lan/Malaysia_gq.jpg">
                <span>Malaysia</span>
              </a>
              <a class="item" href="javascript:alert('正在建设中，敬请期待!');" title="Indonesia">
                <img src="images/lan/Indonesia_gq.jpg">
                <span>Indonesia</span>
            </a>
            <a class="item" href="javascript:alert('正在建设中，敬请期待!');" title="Canada">
              <img src="images/lan/Canada_gq.jpg">
              <span>Canada</span>
            </a>
            <a class="item" href="javascript:alert('正在建设中，敬请期待!');" title="Emirates">
              <img src="images/lan/Emirates_gq.jpg">
              <span>Emirates</span>
            </a>
            <a class="item" href="javascript:alert('正在建设中，敬请期待!');" title="SaudiArabia">
              <img src="images/lan/SaudiArabia_gq.jpg">
              <span>SaudiArabia</span>
            </a>
          </div>
        </div>
        <!-- pc语言切换结束 -->
        <!-- 移动语言切换开始 -->
        <div class="form-item plan-item">
          <div class="lan-sub" onclick="lanTog(this)">
            <a href="javscript:void(0)">
              <img class="img" src="images/plan/Chinagq_sj.png">
              <span>China （中国）</span>
            </a>
            <img class="icon" src="images/plan/sjxlicon.png" data-src="images/plan/sjxlicon_hover.png">
          </div>
          <div class="lan-list">
              <a class="item" href="javscript:void(0)" data-tag="0" title="China （中国）">
                  <img src="images/plan/Chinagq_sj.png">
                  <span>China （中国）</span>
              </a>
              <a class="item" href="javscript:void(0)" data-tag="1" title="UnitedStates">
                  <img src="images/plan/UnitedStatesgq_sj.png">
                  <span>United States</span>
              </a>
              <a class="item" href="javscript:void(0)" data-tag="1" title="Singapore">
                  <img src="images/plan/Singaporegq_sj.png">
                  <span>Singapore</span>
              </a>
              <a class="item" href="javscript:void(0)" data-tag="0" title="Malaysia">
                <img src="images/plan/malaysiagq_sj.png">
                <span>Malaysia</span>
              </a>
              <a class="item" href="javascript:alert('正在建设中，敬请期待!');" title="Indonesia">
                <img src="images/plan/Indonesiagq_sj.png">
                <span>Indonesia</span>
            </a>
            <a class="item" href="javascript:alert('正在建设中，敬请期待!');" title="Canada">
              <img src="images/plan/Canadagq_sj.png">
              <span>Canada</span>
            </a>
            <a class="item" href="javascript:alert('正在建设中，敬请期待!');" title="Emirates">
              <img src="images/plan/Emiratesgq_sj.png">
              <span>Emirates</span>
            </a>
            <a class="item" href="javascript:alert('正在建设中，敬请期待!');" title="SaudiArabia">
              <img src="images/plan/SaudiArabiagq_sj.png">
              <span>SaudiArabia</span>
            </a>
          </div>
        </div>
        <!-- 移动语言切换结束 -->
        <div class="form-item">
          <input type="text" name="phone" placeholder="请输入手机号码">
        </div>
        <div class="form-item form-code">
          <input type="tel" name="code" placeholder="请输入手机验证码">
          <span class="getCodeBtn">获取验证码</span>
        </div>
        <div class="form-item">
          <input type="password" name="passwd" placeholder="请设置登录密码">
        </div>
        <div class="form-item">
          <input type="password" name="cpasswd" placeholder="请确认登录密码">
        </div>
        <div class="form-item">
          <input type="text" name="inv-code" placeholder="邀请码">
        </div>
        <p class="form-msg">点击"立即注册"，即表示您同意并愿意遵守 <a href="agreement.html">《用户协议》</a></p>
        <input class="form-btn" type="submit" value="立即注册">
      </div>
    </div>
  </div>
  <div class="resgister-msg">
    <div class="resgister-msg_container">
      <div class="resgister-msg_content">
        <div class="title">恭喜您，账号注册成功！</div>
        <div class="msg">请牢记您的王者账号，为了您的账号安全，请不要告诉任何人相关账号信息</div>
        <a class="btn down-btn" href="WWW.xxxxxxxxxxx.com\sdnfkjn\sdkfn">
          下载王者战车游戏
        </a>
        <a class="btn" href="home.html">
          查看更多
        </a>
        <div class="tip_btnbox">
          <button onclick="window.location.href='./home.html'">确定</button>
        </div>
      </div>
      <img class="close" src="images/yxxz_yxbz_qhicon3.jpg" title="关闭">
    </div>
  </div>
  <!-- 页脚 -->
  <div class="footer clearfix">
    <div class="container clearfix">
      <div class="footer-left">
        <a href="javascript:;">
          <img class="footer-left_lightlogo" src="images/lightlogo.png">
        </a>
        <img class="footer-left_acelogo" src="images/acelogo.png">
      </div>
      <div class="footer-content">
        抵制不良游戏 拒绝盗版游戏 注意自身保护 谨防受骗上当 适度游戏益脑 沉迷游戏伤身 合理安排时间 健康享受生活<br>
        Copyright c ALL RIGHTS RESERVED. 深圳光秒网络有限公司所有 网站备案号： 粤ICP备18020673号<br>
        地址：广东省深圳市南山区科技南路豪威科技大厦23A 电话：0755-86957692<br>
        友情链接： <a href="javascript:;" title="黑色时空">黑色时空(北京)体育有限公司</a> |
        <a href="javascript:;" title="黑色时空">国家体育总局 </a>|
        <a href="javascript:;" title="黑色时空">国家体育总局体育信息中心</a><br>
      </div>
    </div>
  </div>
  <script src="js/jquery.min.js"></script>
  <script>
    $(document).ready(function () {
      // 关闭提示框
      $(".resgister-msg .close").on("click", function () {
        $(".resgister-msg").removeClass("resgister-msg_active")
      })
      $(".resgister-msg").on("click",function () {
          $(this).removeClass('resgister-msg_active')
      })
      $(".form-btn").on("click", function (event) {
        var phoneReg = /^\d{11}$/;
        if (!phoneReg.test($("input[name='phone']").val())) {
          $("input[name='phone']").addClass("error").val("请输入正确的手机号");
          return false;
        }
        
        if (!$("input[name='code']").val().length) {
          $("input[name='code']").addClass("error").val("请输入正确的验证码");
          return false;
        }

        if ($("input[name='passwd']").val().length < 6 || !$("input[name='passwd']").val().length > 16) {
          $("input[name='passwd']").attr("type", "text").addClass("error").val("请设置6到16数的密码");
          return false;
        }
        
        if (!$("input[name='cpasswd']").val().length || $("input[name='cpasswd']").val() !== $("input[name='passwd']").val()) {
          $("input[name='cpasswd']").attr("type", "text").addClass("error").val("两次密码输入不一致");
          return false;
        }
        
        if (!$("input[name='inv-code']").val().length) {
          $("input[name='inv-code']").addClass("error").val("请输入邀请码");
          return false;
        }

        $.ajax({
          type: "post",
          dataType: "json",
          data: {
            phone: $("input[name='phone']").val(),
            code: $("input[name='code']").val(),
            passwd: $("input[name='passwd']").val(),
            cpasswd: $("input[name='cpasswd']").val(),
            invCode: $("input[name='inv-code']").val(),
            acCode: $("input[name='ac-code']").val()
          },
          success: function (res) {
            if (res.code === 200) {
              // 注册成功
              if (res.data.status === 1) {
                $(".resgister-msg").addClass("resgister-msg_active").find("a").show();
              } else {
                $(".resgister-msg").addClass("resgister-msg_active error").find("a").hide();
                $(".resgister-msg").find(".title").html("激活失败");
                $(".resgister-msg").find(".span").html(res.msg)
              }
            } else {
              $(".resgister-msg").addClass("resgister-msg_active error").find("a").hide();
              $(".resgister-msg").find(".title").html("激活失败");
              $(".resgister-msg").find(".span").html(res.msg);
            }
          },
          error: function (error) {
            console.log(error)
          }
        })
          event.stopPropagation();
      })

      // 聚焦清空
      $(".form-item").find("input").on("focus", function () {
        $(this).removeClass("error").val("");
        if ($(this).attr("name") === "passwd" || $(this).attr("name") === "cpasswd") {
          $(this).attr("type", "password");
        }
      })


      // 获取验证码
      $(".getCodeBtn").on("click", function () {
        if ($(this).hasClass("disable")) return;
        var timer = null;
        var phone = $("input[name='phone']").val();
        var phoneReg = /^\d{11}$/;
        var _this = this;

        if (!phoneReg.test(phone)) {
          $("input[name='phone']").addClass("error").val("请输入正确的手机号");
          return false;
        }

        // 测试用
        $(this).html("重新获取59").addClass("disable");
        timer = setInterval(function () {
          var time = parseInt($(_this).html().replace(/[^0-9]/ig,""));
          if (time === 0) {
            $(_this).removeClass("disable").html("获取验证码");
            clearInterval(timer);
            return false;
          }
          var text = "重新获取" + (time - 1);
          $(_this).html(text);
        }, 1000);

        $.ajax({
          type: "post",
          dataType: "json",
          data: {
            type: "1", // 激活验证码
            phone: phone
          },
          success: function (res) {
            if (res.code === 200) {
              $(this).html("重新获取59").addClass("disable");
              timer = setInterval(function () {
                var time = parseInt($(_this).html().replace(/[^0-9]/ig,""));
                if (time === 0) {
                  $(_this).removeClass("disable").html("获取验证码");
                  clearInterval(timer);
                  return false;
                }
                var text = "重新获取" + (time - 1);
                $(_this).html(text);
              }, 1000);
            }
          },
          error: function (error) {
            console.log(error)
          }
        })
      })
    })
	function goback(){
      if(!history.back(-1)){
        window.location.href = '/home.html'
      }else{
        window.location.href = 'history.back(-1)'
      }
    }
    
    // 语言切换开始
    function lanTog(This){
      var tag = $(This).siblings('.lan-list').css('display');
      $(".plan-item .lan-list a").removeClass("act")
      var oldsrc = $(This).find('.icon').attr('src');
      var nowsrc = $(This).find('.icon').attr('data-src');
      var imgs = [oldsrc,nowsrc];
      if(tag == 'none') {
        $(This).find('.icon').attr('src',imgs[1])
        $(This).find('.icon').attr('data-src',imgs[0])
        $(This).siblings('.lan-list').show();
      }else{
        $(This).find('.icon').attr('src',imgs[1])
        $(This).find('.icon').attr('data-src',imgs[0])
        $(This).siblings('.lan-list').hide();
      }
    }

    function lanHide(This){
      var oldsrc =  $(This).siblings('.lan-sub').find('.icon').attr('src');//hover
      var nowsrc = $(This).siblings('.lan-sub').find('.icon').attr('data-src');
      var imgs = [oldsrc,nowsrc];
      $(This).siblings('.lan-sub').find('.icon').attr('src',imgs[1])
      $(This).siblings('.lan-sub').find('.icon').attr('data-src',imgs[0])
      $(This).find('a').removeClass("act");
      $(This).hide();
    }
    $(".lan-item .lan-list a").on("click",function(){
      var tag = $.trim($(this).attr("data-tag"));
      if(tag == 1){
        $(this).find("img").attr('class','img');
        var htmls = $(this).html();
        $(this).closest('.lan-list').siblings(".lan-sub").find('a').html(htmls);
      }else{
        alert('正在建设中，敬请期待!')
      }
    })

    $(".plan-item .lan-list a").on("click",function(){
      var tag = $.trim($(this).attr("data-tag"));
      if(tag == 1) {
        var htmls = $(this).html();
        $(this).find("img").attr('class','img');
        $(this).closest('.lan-list').siblings(".lan-sub").find('a').html(htmls);
        $(this).closest(".lan-list").hide();
      }else{
        alert('正在建设中，敬请期待!');
      }
      $(this).addClass('act').siblings('a').removeClass('act');
        var oldsrc =  $('.plan-item .lan-sub').find('.icon').attr('src');//hover
        var nowsrc = $('.plan-item .lan-sub').find('.icon').attr('data-src');
        var imgs = [oldsrc,nowsrc];
        $('.plan-item .lan-sub').find('.icon').attr('src',imgs[1])
        $('.plan-item .lan-sub').find('.icon').attr('data-src',imgs[0])
      $(this).closest(".lan-list").hide();
    })
    // 语言切换结束
  </script>
</body>

</html>